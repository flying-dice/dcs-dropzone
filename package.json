{
	"name": "dcs-dropzone",
	"private": true,
	"workspaces": [
		"apps/*",
		"packages/*"
	],
	"release": {
		"branches": [
			"main"
		],
		"plugins": [
			"@semantic-release/commit-analyzer",
			"@semantic-release/release-notes-generator",
			[
				"@semantic-release/exec",
				{
					"prepareCmd": "pwsh -NoProfile -Command \"$env:RELEASE_VERSION='${nextRelease.version}'; $env:RELEASE_TAG='${nextRelease.gitTag}'; bun run daemon:build\""
				}
			],
			[
				"@semantic-release/changelog",
				{
					"changelogFile": "CHANGELOG.md"
				}
			],
			[
				"@semantic-release/github",
				{
					"assets": [
						"apps/daemon/dist/dcs-dropzone-daemon.tar",
						"apps/daemon/dist/dcs-dropzone-daemon.tar.manifest",
						"apps/launcher/dist/launcher.exe"
					]
				}
			],
			[
				"@semantic-release/git",
				{
					"assets": [
						"CHANGELOG.md"
					],
					"message": "chore(release): ${nextRelease.gitTag} [skip ci]\n\n${nextRelease.notes}"
				}
			]
		]
	},
	"scripts": {
		"biome": "biome ci",
		"tsc": "bun run --workspaces tsc",
		"depcheck": "bun run --workspaces depcheck",
		"tests": "bun run --workspaces tests",
		"test": "bun run test",
		"daemon:dev": "cd apps/daemon && bun run dev",
		"daemon:build": "bun run --filter daemon build",
		"webapp:dev": "cd apps/webapp && bun run dev",
		"webapp:build": "bun run --filter webapp build",
		"webapp:deploy": "bun run --filter cloudflare deploy"
	},
	"devDependencies": {
		"@semantic-release/changelog": "^6.0.3",
		"@semantic-release/commit-analyzer": "^13.0.0",
		"@semantic-release/exec": "^6.0.3",
		"@semantic-release/git": "^10.0.1",
		"@semantic-release/github": "^10.1.3",
		"@semantic-release/release-notes-generator": "^14.0.1",
		"semantic-release": "^24.0.0"
	}
}
